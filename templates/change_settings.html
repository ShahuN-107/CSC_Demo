<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Change Settings</title>
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <style>
        {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }
    td, th {
        border: 3px solid #dddddd;
        text-align: left;
        padding: 8px;
    }
    </style>
</head>
{% block navbar %}
<div class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle"
            data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
        </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="/select_plugin">Select Plugins</a></li>
                    <li><a href="/view_settings">View Settings</a></li>
                    <li><a href="/_initialise">Reload Database</a></li>
                </ul>
        </div>
    </div>
</div>
{% endblock %}

<body>
<div class="container col-md-offset-1 col-lg-offset-1 col-sm-offset-1">
<script>
    var pluginSettings = []
    var settingNames = []
</script>

<form method="POST" action="/_update">
{% for key, settings in plugin_settings.items() %}

        <h3>  Plugin Name:  {{ key }}</h3>
        <table>
        <tr>
            <th style="width: 150px; height: 50px">Setting Name</th>
            <th style="width: 150px; height: 50px">Setting Value</th>
            <th style="width: 250px; height: 50px">New Value</th>
        </tr>
        {%  for setting_name, setting_value in settings.items() %}
            <script>
            settingNames[{{ setting_name }}]
            </script>

            <tr>
                <td style="width: 150px; height: 50px">{{ setting_name }}</td>
                <td style="width: 150px; height: 50px">{{ setting_value }}</td>
                <td style="width: 150px; height: 50px"><input type="text" step="0.001" name={{ setting_name }} value={{ setting_value }}></td>
            </tr>

        {% endfor %}
        </table>

{% endfor %}

    <script>
        var length = settingNames.length
        for (i = 0; i < length; i++){
            var x = document.getElementsByName(settingNames[i]).value;
            pluginSettings[x];
            }
    </script>


    <div><br></div>
    <button class="btn btn-default btn-lg pull-left" type="submit" style="width: 200px" value=pluginSettings()>Submit</button>

</form>
</div>
</body>
</html>